{% extends 'base.html' %}
{% load static %}
{% block title %}Статья{% endblock %}
{% block content %}
  <div class="flex flex-col gap-16 md:gap-20">
    <div class="grid min-h-max grid-cols-1 md:grid-cols-12 items-start justify-between gap-5">
      <div class="md:col-span-6 p-2.5 bg-(--beige)">
        <img
            class="object-cover max-h-[400px] md:max-h-[600px] border border-(--accent) outline outline-(--accent) outline-offset-10 rounded-xl w-full"
            src="{% static 'img/banner.jpg' %}" alt="Image">
      </div>
      <div class="md:col-start-8 md:col-end-13 flex flex-col gap-4 md:gap-6 lg:gap-10">
        <h1 class="font-medium text-xl md:text-2xl lg:text-3xl text-(--text)">Добро пожаловать в музей ЧТОТиБ!</h1>
        <div class="relative">
          <div id="readMoreText" class="overflow-hidden transition-all duration-300 max-h-[600px]">
            <p class="md:text-lg text-(--text)">Стены нашего техникума хранят обширную историю людей, которые в нем
              учились
              и работали. Историю студентов и
              учителей, также, здесь учились многие известные люди. ЧТОТиБ вывел в жизнь много профессионалов за долгое
              время, дал им знания и научил жить. И по сей день он несет добро и свет в души учащихся
              Стены нашего техникума хранят обширную историю людей, которые в нем учились
              и работали. Историю студентов и
              учителей, также, здесь учились многие известные люди. ЧТОТиБ вывел в жизнь много профессионалов за долгое
              время, дал им знания и научил жить. И по сей день он несет добро и свет в души учащихся
              Стены нашего техникума хранят обширную историю людей, которые в нем учились
              и работали. Историю студентов и
              учителей, также, здесь учились многие известные люди. ЧТОТиБ вывел в жизнь много профессионалов за долгое
              время, дал им знания и научил жить. И по сей день он несет добро и свет в души учащихся
              Стены нашего техникума хранят обширную историю людей, которые в нем учились
              и работали. Историю студентов и
              учителей, также, здесь учились многие известные люди. ЧТОТиБ вывел в жизнь много профессионалов за долгое
              время, дал им знания и научил жить. И по сей день он несет добро и свет в души учащихся
              Стены нашего техникума хранят обширную историю людей, которые в нем учились
              и работали. Историю студентов и
              учителей, также, здесь учились многие известные люди. ЧТОТиБ вывел в жизнь много профессионалов за долгое
              время, дал им знания и научил жить. И по сей день он несет добро и свет в души учащихся
              Стены нашего техникума хранят обширную историю людей, которые в нем учились
              и работали. Историю студентов и
              учителей, также, здесь учились многие известные люди. ЧТОТиБ вывел в жизнь много профессионалов за долгое
              время, дал им знания и научил жить. И по сей день он несет добро и свет в души учащихся

            </p>
          </div>
          <div id="readMoreGradient"
               class="absolute bottom-5 -left-2 -right-2 h-10 bg-gradient-to-t from-(--bg) to-(--bg)/50 blur-xs pointer-events-none"></div>
          <button id="readMoreButton"
                  class="mt-2 nav-link cursor-pointer text-sm! normal-case! focus:outline-none"
                  aria-expanded="false"
                  aria-controls="readMoreText">
            Читать все ↓
          </button>
        </div>
      </div>
    </div>
    <div class="gallery -m-2.5">
      {% for image in images %}
        {% include "components/gallery_image.html" with img=image %}
      {% endfor %}
    </div>
  </div>

  <script>
    const readMoreButton = document.getElementById('readMoreButton');
    const readMoreText = document.getElementById('readMoreText');
    const readMoreGradient = document.getElementById('readMoreGradient');

    readMoreButton.addEventListener('click', function () {
      const isExpanded = this.getAttribute('aria-expanded') === 'true';

      if (isExpanded) {
        readMoreText.style.maxHeight = '600px';
        this.setAttribute('aria-expanded', 'false');
        this.innerHTML = 'Читать все ↓';
        readMoreGradient.style.display = 'block';
      } else {
        readMoreText.style.maxHeight = readMoreText.scrollHeight + 'px';
        this.setAttribute('aria-expanded', 'true');
        this.innerHTML = 'Свернуть ↑';
        readMoreGradient.style.display = 'none';
      }
    });
  </script>
{% endblock %}